<div class="m-container">

  <div class="back-bar">
    <button mat-stroked-button class="back-btn" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Retour
    </button>
  </div>

  <mat-card class="header-card" *ngIf="report">
    <h2>Report #{{ report.id }}</h2>

    <p>
      <strong>Employé :</strong> {{ report.employeeName }}
      &nbsp; | &nbsp;
      <strong>Statut :</strong>
      <span class="status-pill">{{ report.status }}</span>
    </p>

 <div class="actions">

  <button mat-raised-button
          color="primary"
          (click)="approve()"
          [disabled]="report?.status !== 'SUBMITTED'">
    <mat-icon>check</mat-icon>
    Approuver
  </button>

  <button mat-raised-button
          color="warn"
          (click)="reject()"
          [disabled]="report?.status !== 'SUBMITTED'">
    <mat-icon>close</mat-icon>
    Rejeter
  </button>

</div>

  </mat-card>



  <mat-card class="list-card">
  <h3>Dépenses</h3>

  <div *ngIf="loading">Chargement...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && !error && expenses.length === 0" class="empty">
    Aucune dépense.
  </div>

  <div class="expense-list" *ngIf="!loading && !error">
    <mat-card class="expense-card" *ngFor="let e of expenses">
      <div class="expense-left">
        <div class="expense-icon"><mat-icon>payments</mat-icon></div>
        <div>
          <div class="expense-title">{{ e.title }}</div>
          <div class="expense-date">{{ e.date | date:'dd/MM/yyyy' }}</div>
        </div>
      </div>
      <div class="expense-amount">{{ e.amount }} UM</div>
    </mat-card>
  </div>
</mat-card>


</div>
